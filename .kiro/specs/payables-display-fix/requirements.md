# 应付账款显示修复需求文档

## 介绍

本功能旨在修复应付账款报表显示为空的问题，并解决前端显示字段与后端数据不匹配的问题。通过分析现有代码和用户反馈，需要确保应付账款数据能够正确显示，并且前端界面字段与后端数据结构保持一致。

## 需求

### 需求 1

**用户故事:** 作为业务用户，我希望能够看到正确的应付账款数据，以便进行财务管理和供应商对账。

#### 验收标准

1. WHEN 用户访问应付账款报表 THEN 系统 SHALL 显示所有有应付余额的供应商记录
2. WHEN 应付账款数据存在 THEN 系统 SHALL 正确计算并显示应付金额、采购金额、付款金额
3. WHEN 没有应付账款数据 THEN 系统 SHALL 显示友好的空数据提示信息
4. WHEN 数据加载失败 THEN 系统 SHALL 显示具体的错误信息和重试选项

### 需求 2

**用户故事:** 作为业务用户，我希望前端显示的字段与实际数据匹配，以便准确理解报表内容。

#### 验收标准

1. WHEN 前端显示表头 THEN 系统 SHALL 确保表头字段与后端数据字段完全对应
2. WHEN 显示供应商信息 THEN 系统 SHALL 包含供应商名称、采购日期、入库单号、采购金额、付款金额、应付金额、逾期天数等字段
3. WHEN 数据为空或null THEN 系统 SHALL 显示适当的默认值而不是空白
4. WHEN 金额字段显示 THEN 系统 SHALL 使用统一的货币格式（¥0.00）

### 需求 3

**用户故事:** 作为系统管理员，我希望能够诊断和调试应付账款数据问题，以便快速定位和解决问题。

#### 验收标准

1. WHEN 应付账款数据为空 THEN 系统 SHALL 记录详细的调试日志信息
2. WHEN 前后端数据不匹配 THEN 系统 SHALL 提供数据结构对比和验证功能
3. WHEN 数据查询异常 THEN 系统 SHALL 记录查询参数和错误详情
4. WHEN 用户报告问题 THEN 系统 SHALL 提供数据验证和诊断工具

### 需求 4

**用户故事:** 作为开发人员，我希望前端界面能够直接使用后端数据结构，以便简化系统架构并减少数据转换的复杂性。

#### 验收标准

1. WHEN 评估前后端数据结构 THEN 系统 SHALL 优先考虑修改前端以匹配后端数据格式
2. WHEN 后端数据字段充足 THEN 前端 SHALL 直接使用后端字段名称而不进行转换
3. WHEN 前端显示需求与后端数据不符 THEN 系统 SHALL 评估修改前端显示逻辑的可行性
4. WHEN 必须进行数据转换 THEN 系统 SHALL 仅在无法通过前端修改解决时才使用适配器